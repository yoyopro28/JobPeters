<html>
    <head>
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
        <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
        <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    </head>
    <script>
        AFRAME.registerComponent("input-listen", {
        init: function () {
            //X-button Pressed
            this.el.addEventListener("xbuttondown", function (e) {
                this.emit("teleportstart");
            });

            //X-button Released
            this.el.addEventListener("xbuttonup", function (e) {
                this.emit("teleportend");
            });
            }
        });
    </script>
    <body>
        <a-scene physics="debug: false; gravity: 0; restitution: 0.9; " background="color: #AAAAAA">
            <a-assets>
                <a-asset-item id="modell" src="model-5.glb"></a-asset-item>
                <a-asset-item id="nav-mesh" src="model-5.glb"></a-asset-item>
            </a-assets>

            <a-entity environment="preset: tron; groundColor: #445; grid: cross"></a-entity>
            <a-entity gltf-model="#nav-mesh" nav-mesh position="0 1 0" scale="10 10 10" visible="false"></a-entity>
            <a-entity id="ground" gltf-model="#nav-mesh" position="0 1 0" scale="10 10 10" visible="false"></a-entity>
            <a-entity gltf-model="#modell" position="0 1 0" scale="10 10 10"></a-entity>
            <a-light type="ambient" color="#FFFFFF" intensity="0.5" position="1 1 1"></a-light>

    <!-- Camera Rig -->
                <a-entity id="cameraRig" movement-controls="constrainToNavMesh: false;" navigator="cameraRig: #cameraRig; cameraHead: #head; collisionEntities: .collision; ignoreEntities: .clickable" position="0 0 0" rotation="0 0 0">
                    <a-entity id="head" camera look-controls="pointerLockEnabled: false" position="1 3.5 8"></a-entity>
                    <a-entity id="ctlL" hand-tracking-controls="hand: left;" teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; startEvents: teleportstart; endEvents: teleportend; collisionEntities: #ground" laser-controls="hand: left" input-listen>
                        <a-text value="X: Teleport" position="0 0.05 0" rotation="-90 0 0" scale="0.1 0.1 0.1" align="center" color="#FFFFFF"></a-text>
                    </a-entity>
                    <a-entity id="ctlR" hand-tracking-controls="hand: right;" laser-controls="hand: right" input-listen>
                        <a-text value="This is your hand!" position="0 0.05 0" rotation="-90 0 0" scale="0.1 0.1 0.1" align="center" color="#FFFFFF"></a-text>
                    </a-entity>
                </a-entity>

        </a-scene>
    </body>
</html>
